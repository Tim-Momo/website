.checkbox {
  $el: &;
  $size: 1.5em;

  display: inline-block;
  min-height: $size;
  min-width: $size;
  padding-left: $size; // Space for the checkbox
  position: relative;
  vertical-align: middle;

  &__box {
    background-color: #000;
    border-radius: 5px;
    box-shadow: 0 3px 10px -5px currentColor;
    color: #fff;
    height: $size;
    left: 0;
    opacity: 1;
    position: absolute;
    top: 0;
    transition: transform $duration, opacity $duration;
    width: $size;
  }

  &__checkmark {
    fill: none;
    height: 1.25em;
    left: 0.25em;
    opacity: 0;
    pointer-events: none;
    position: absolute;
    stroke: currentColor;
    top: 0.325em;
    transition: opacity $duration;
    width: 1.25em;
  }

  &__text {
    cursor: pointer;
    display: inline-block;
    padding-left: 0.5em;
    position: relative;

    > * { // In case of a <p> added by Drupal
      &:first-child { margin-top: 0; }
      &:last-child { margin-bottom: 0; }
    }

    a {
      &:hover { opacity: 0.7; }
    }
  }

  &__input {
    @extend %sr-only;

    &:checked {
      + #{$el}__box {
        #{$el}__checkmark { opacity: 1; }
      }
    }

    &:active {
      + #{$el}__box {
        box-shadow: 0 3px 0 0 rgba(0, 0, 0, 0);
        transform: scale(0.95);
      }
    }

    &:disabled {
      + #{$el}__box,
      ~ #{$el}__text {
        opacity: 0.5;
        pointer-events: none;
      }
    }
  }
}
